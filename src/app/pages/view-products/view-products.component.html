<div class="view-products-container">
  <h1>View All Products</h1>

  <!-- Table to show the products -->
  <table class="product-table">
    <thead>
      <tr>
        <th>Product ID</th>
        <th>Product Name</th>
        <th>Price</th>
        <th>Category</th>
        <th>Description</th>
        <th>Availability</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.productId }}</td>
        <td>{{ product.productName }}</td>
        <td>{{ product.productPrice | currency }}</td>
        <td>{{ product.productCategory }}</td>
        <td>{{ product.productDescription }}</td>
        <td>{{ product.isAvailable ? "Yes" : "No" }}</td>
        <td>
          <!-- Update Button to open the form with populated values -->
          <button (click)="openUpdateForm(product)" class="btn update-btn">
            Update
          </button>
          <!-- Delete Button to delete the product -->
          <button
            (click)="deleteProduct(product.productId)"
            class="btn delete-btn"
          >
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Update Product Form -->
  <div *ngIf="isUpdateFormVisible" class="update-product-form">
    <h2>Update Product</h2>
    <form (submit)="updateProduct()">
      <label for="productName">Product Name</label>
      <input
        type="text"
        id="productName"
        [(ngModel)]="selectedProduct.productName"
        name="productName"
        required
      />

      <label for="productPrice">Price</label>
      <input
        type="number"
        id="productPrice"
        [(ngModel)]="selectedProduct.productPrice"
        name="productPrice"
        required
      />

      <label for="productCategory">Category</label>
      <input
        type="text"
        id="productCategory"
        [(ngModel)]="selectedProduct.productCategory"
        name="productCategory"
        required
      />

      <label for="productDescription">Description</label>
      <textarea
        id="productDescription"
        [(ngModel)]="selectedProduct.productDescription"
        name="productDescription"
        required
      ></textarea>

      <button type="submit" class="btn submit-btn">Update Product</button>
      <button (click)="closeUpdateForm()" class="btn cancel-btn">Cancel</button>
    </form>
  </div>
</div>
